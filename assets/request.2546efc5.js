var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,i=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&o(e,r,t[r]);if(a)for(var r of a(t))n.call(t,r)&&o(e,r,t[r]);return e},l=(e,a)=>t(e,r(a));import{bU as c,cW as b,K as u}from"./vendor.0f6f771b.js";let f;function p(e,t={}){let r=t.responseType;r?"array-buffer"!==r&&"blob"!==r&&"json"!==r&&"native"!==r&&"native-request-init"!==r&&"text"!==r&&(r="text"):r="json";const a=c(t.signal);return delete t.signal,b.invokeStaticMessage("request",{url:e,options:t},{signal:a}).then((async s=>{let n,o,c,b,p;if(s.data)if(s.data instanceof ArrayBuffer){if(!("json"!==r&&"text"!==r&&"blob"!==r||(n=new Blob([s.data]),"json"!==r&&"text"!==r||(f||(f=new FileReaderSync),b=f.readAsText(n),"json"!==r)))){try{o=JSON.parse(b||null)}catch(d){const r=l(i({},d),{url:e,requestOptions:t});throw new u("request:server",d.message,r)}if(o.error){const r=l(i({},o.error),{url:e,requestOptions:t});throw new u("request:server",o.error.message,r)}}}else"native"===r&&(s.data.signal=a,c=await fetch(s.data.url,s.data));switch(r){case"blob":p=n;break;case"json":p=o;break;case"native":p=c;break;case"text":p=b;break;default:p=s.data}return{data:p,requestOptions:t,ssl:s.ssl,url:e}}))}export{p as execute};
